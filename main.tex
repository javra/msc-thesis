\documentclass[12pt,headings=optiontohead,a4paper]{book}
%TODO: page layout
\usepackage[backref=page,
unicode,
pdfauthor={Jakob von Raumer},
pdftitle={Master Thesis},
pdfsubject={Mathematics},
pdfkeywords={homotopy theory, interactive theorem proving}]{hyperref}

%code listings
\usepackage{minted}
\usepackage{mathpartir}
\usepackage{newunicodechar}
\renewcommand{\MintedPygmentize}{./pygments-main/pygmentize}
\usepackage{fontspec,xunicode}
\usepackage[osf]{mathpazo}
\setmainfont[Ligatures=TeX]{TeX Gyre Pagella}
\setmonofont{Ubuntu Mono}
\newfontfamily{\freeserif}{DejaVu Sans}
\newunicodechar{⦃}{\ensuremath{\texttt{\{}\mkern-7mu\texttt{|}}}
	%{\makebox[.5em]{\freeserif⦃}}
\newunicodechar{⦄}{\ensuremath{\texttt{|}\mkern-7mu\texttt{\}}}}
	%{\makebox[.5em]{\freeserif⦄}}
\newunicodechar{→}{\texttt{\freeserif{→}}}
\newunicodechar{⟶}{\texttt{\freeserif{⟶}}}
\newunicodechar{⁻}{\texttt{\freeserif{⁻}}}
\newunicodechar{▹}{\freeserif{▹}}
\newunicodechar{ℕ}{\texttt{\freeserif{ℕ}}}
\newunicodechar{⟨}{\texttt{\freeserif{⟨}}}
\newunicodechar{⟩}{\texttt{\freeserif{⟩}}}
\newunicodechar{⬝}{\ensuremath{\ct}}
\newunicodechar{∼}{\freeserif{∼}}
\newunicodechar{≃}{\freeserif{≃}}
\newunicodechar{≅}{\freeserif{≅}}
\newunicodechar{∘}{\freeserif{∘}}
\newunicodechar{ʰ}{\freeserif{ʰ}}
\newunicodechar{ᵍ}{\freeserif{ᵍ}}
\newunicodechar{⇒}{\freeserif{⇒}}
\newunicodechar{⋆}{\freeserif{⋆}}

%workaround to remove red boxes
\AtBeginEnvironment{minted}{\renewcommand{\fcolorbox}[4][]{#4}}
\usemintedstyle{colorful}
\newminted{lean}{
	linenos,
	numbersep=5pt,
	frame=single,
	fontsize=\footnotesize,
	framesep=1mm,
	samepage,
	autogobble}
\newminted[leancodebr]{lean}{
	linenos,
	numbersep=5pt,
	frame=single,
	fontsize=\footnotesize,
	framesep=1mm,
	autogobble}
\newcommand{\leani}[1]{\mintinline{lean}{#1}}

\linespread{1.05}
\usepackage{graphicx}
\usepackage{array}
\usepackage[all,2cell,cmtip]{xy}
\usepackage{tikz}
\usetikzlibrary{decorations.pathmorphing,arrows}
\usepackage[numbered]{bookmark}
\usepackage{fancyhdr}
\usepackage{amssymb,amsmath,amsthm,mathrsfs,wasysym}
\usepackage{enumitem,mathtools,xspace}
\usepackage[nottoc]{tocbibind}
\usepackage{cleveref}
\usepackage{aliascnt}
\usepackage{mathtools}
\usepackage{booktabs}
%\usepackage[top=1in, bottom=1.25in, left=1.25in, right=1.25in]{geometry} %TODO decide

\fancyhead[LO]{\leftmark}
\fancyhead[RE]{\rightmark}
\fancyhead[LE,RO]{\thepage}
\cfoot{}
\pagestyle{fancy}

\def\defthm#1#2#3{
	\newaliascnt{#1}{thm}
	\newtheorem{#1}[#1]{#2}
	\aliascntresetthe{#1}
	\crefname{#1}{#2}{#3}
}

\newtheorem{thm}{Theorem}[section]
\crefname{thm}{Theorem}{Theorems}
\defthm{lemma}{Lemma}{Lemmas}
\defthm{axiom}{Axiom}{Axioms}
\defthm{corollary}{Corollary}{Corollaries}
\theoremstyle{definition}
\defthm{defn}{Definition}{Definitions}
\defthm{example}{Example}{Examples}
\defthm{remark}{Remark}{Remarks}

\newcommand{\upperf}{\partial^-_1}
\newcommand{\lowerf}{\partial^+_1}
\newcommand{\leftf}{\partial^-_2}
\newcommand{\rightf}{\partial^+_2}
\newcommand{\inv}{^{-1}}
\newcommand{\DCat}{\mathbf{DCat}}
\newcommand{\DGpd}{\mathbf{DGpd}}
\newcommand{\XMod}{\mathbf{XMod}}
\newcommand{\twotype}{\mathbf{2}}
\newcommand{\unit}{\mathbf{1}}
\newcommand{\emptytype}{\mathbf{0}}
\newcommand{\UU}{\mathcal{U}}
\newcommand{\isProp}{\mathsf{isProp}}
\newcommand{\isSet}{\mathsf{isSet}}
\newcommand{\seg}{\mathsf{seg}}
\newcommand{\isContr}{\mathsf{isContr}}
\newcommand{\isIso}{\mathsf{isIso}}
\newcommand{\idtoiso}{\mathsf{idtoiso}}
\newcommand{\idtoeqv}{\mathsf{idtoeqv}}
\newcommand{\ua}{\mathsf{ua}}
\newcommand{\alliso}{\mathsf{alliso}}
\newcommand{\refl}{\mathsf{refl}}
\newcommand{\ap}{\mathsf{ap}}
\newcommand{\apd}{\mathsf{apd}}
\newcommand{\ind}{\mathsf{ind}}
\newcommand{\rec}{\mathsf{rec}}
\newcommand{\pr}{\mathsf{pr}}
\newcommand{\inl}{\mathsf{inl}}
\newcommand{\inr}{\mathsf{inr}}
\newcommand{\ishae}{\mathsf{ishae}}
\newcommand{\apiop}{\ap_{\iota'}}
\DeclareMathOperator{\comp}{comp}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\invv}{inv_1}
\DeclareMathOperator{\invh}{inv_2}
\DeclareMathOperator{\obj}{obj}
\newcommand{\assoc}{\mathsf{assoc}}
\newcommand{\assocv}{\mathsf{assoc}_1}
\newcommand{\assoch}{\mathsf{assoc}_2}
\newcommand{\idLeft}{\mathsf{idLeft}}
\newcommand{\idLeftv}{\mathsf{idLeft}_1}
\newcommand{\idLefth}{\mathsf{idLeft}_2}
\newcommand{\idRight}{\mathsf{idRight}}
\newcommand{\idRightv}{\mathsf{idRight}_1}
\newcommand{\idRighth}{\mathsf{idRight}_2}
\newcommand{\leftInv}{\mathsf{leftInv}}
\newcommand{\leftInvv}{\mathsf{leftInv}_1}
\newcommand{\leftInvh}{\mathsf{leftInv}_2}
\newcommand{\rightInv}{\mathsf{rightInv}}
\newcommand{\rightInvv}{\mathsf{rightInv}_1}
\newcommand{\rightInvh}{\mathsf{rightInv}_2}
\newcommand{\respectId}{\mathsf{respectId}}
\newcommand{\respectIdv}{\mathsf{respectId}_1}
\newcommand{\respectIdh}{\mathsf{respectId}_2}
\newcommand{\respectComp}{\mathsf{respectComp}}
\newcommand{\respectCompv}{\mathsf{respectComp}_1}
\newcommand{\respectComph}{\mathsf{respectComp}_2}
\newcommand{\isequiv}{\mathsf{isequiv}}
\newcommand{\isodd}{\mathsf{isodd}}
\newcommand{\thin}{\mathsf{thin}}
\newcommand{\Sbase}{\mathsf{base}}
\newcommand{\Sloop}{\mathsf{loop}}
\newcommand{\Smerid}{\mathsf{merid}}
\newcommand{\ct}{
	\mathchoice{\mathbin{\raisebox{0.5ex}{$\displaystyle\centerdot$}}}
		{\mathbin{\raisebox{0.5ex}{$\centerdot$}}}
		{\mathbin{\raisebox{0.25ex}{$\scriptstyle\,\centerdot\,$}}}
		{\mathbin{\raisebox{0.1ex}{$\scriptscriptstyle\,\centerdot\,$}}}
}
\newcommand{\trunc}[2]{\left\Vert #2\right\Vert_{#1}}
\newcommand{\squash}[1]{\trunc{}{#1}}
\newcommand{\isntype}[1]{\mathsf{is}\mbox{-}{#1}\mbox{-}\mathsf{type}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Sph}{\mathbb{S}}

\renewcommand{\backrefalt}[4]{
	\ifcase #1
		(No citations.)
	\or
		(Cited on page\ #2.)
	\else
		(Cited on pages\ #2.)
	\fi
}

\begin{document}

\title{Formalization of Non-Abelian Topology for Homotopy Type Theory}
\author{
Master Thesis\\[1cm]
\begin{tabular}{r@{ }l} 
Author:      & Jakob von Raumer \\[1ex] 
Supervisors at CMU: & Prof. Jeremy Avigad\\
             & Prof. Steve Awodey \\[1ex]
Supervisors at KIT : & Prof. Dr. Gregor Snelting\\
			& Prof. Dr. Frank Herrlich
\end{tabular}\\
%\includegraphics[width=0.3\textwidth]{kitlogo_rgb.pdf}
}

\frontmatter
\maketitle

\chapter*{Abstract | Kurzfassung}

In this thesis, I present a translation of some essential algebraic structures
from non-abelian algebraic topology to a setting of homotopy type theory and
an application of these structures in the form of a fundamental double groupoid
of a 2-truncated type which is presented by a set and a 1-type.
I furthermore describe how I formalized parts of these definitions and theorems
in the newly developed interactive theorem prover Lean.\newline

\noindent
In dieser Arbeit präsentiere ich eine Übersetzung einiger essentieller algebraischer
Strukturen der nichtabelschen algebraischen Topologie in Homotopietypentheorie
und eine Anwendung dieser Strukturen in Gestalt eines fun\-da\-men\-talen Doppel\-grupp\-oids
eines 2-ab\-gestumpften Typs, welch\-er\linebreak durch ei\-ne Men\-ge und ei\-nen 1-Typ\-en dargestellt ist.
Des\-weiteren be\-schrei\-be ich, wie ich Tei\-le dieser Definitionen und Sätze in dem
neu entwickelten inter\-aktiven Theorem\-beweiser Lean for\-mali\-siert habe.\newline

\newpage
\noindent
I declare that I have developed and written the enclosed thesis by myself, and have not
used sources or means without declaration in the text.\newline

\noindent
Ich erkläre hiermit, dass ich die vorliegende Arbeit selbstständig verfasst und keine anderen
als die angegebenen Quellen und Hilfsmittel verwendet habe.

\vspace{2cm}
\noindent \rule{6cm}{1pt} \\
Jakob von Raumer

\chapter*{Acknowledgements}
%\thispagestyle{empty}

First and foremost, I would like to express my deep gratitude to Prof.~Jeremy Avigad,
who has been an excellent advisor for this thesis and has been a great help
in every stage of this thesis project.
He supported me in finding a topic, and gave lots of helpful advice for the
formalization as well as for the write up.

Also, I want to thank Prof.~Steve Awodey for giving me the idea to formalize structures
from non-abelian topology and who gave me useful advice on what formalization goals
to pursue.

Another great help was to be included in the reading group on non-abelian algebraic
topology whose other members 
Ulrik Buchholtz, Kuen-Bang Hou (Favonia), Ed Morehouse, Clive Newstead, Egbert Rijke, and Bas Spitters
I also want to thank for helping me to understand the matter.

Another big thank you goes out to Floris van Doorn who was also working with the Lean
theorem prover during my stay in Pittsburgh and who has always been a great help
and support whenever I ran into problems and needed fast advice.

As the developer of the Lean theorem prover, Leonardo de Moura has also provided
the best support imaginable.
Most of the times, he gave answers to issues with Lean or bug fixes in just a
few minutes.
I furthermore have to thank Soonho Kong for providing good support for his Lean
user interface and for helping me to set up the environment for the code listings
in this thesis.

For their contribution to make my stay in Pittsburgh possible, I want to thank
Prof.~Dr.~Gregor Snelting for supervising my thesis from Karlsruhe,
Prof.~Dr.~Frank Herrlich for allowing the thesis to count for my mathematics major,
and Prof.~Dr.~Alexander Waibel and the interACT exchange program for financing my
stay at Carnegie Mellon University.
Last but not least, the thesis project would not have happened without my friend
Felix Maurer pointing me to the videos of Prof.~Robert Harper's homotopy type
theory course and the latter redirecting me to Jeremy Avigad and Steve Awodey.

\clearpage

\tableofcontents
\mainmatter

\chapter{Introduction} \label{chapter:intro}

\input{intro.tex}

\chapter{Homotopy type theory} \label{chapter:hott}

\input{hott.tex}

\chapter{Non-Abelian Topology} \label{chapter:nat}

\input{nat.tex} 

\chapter{Translation and Use in Homotopy Type Theory} \label{chapter:types}
\chaptermark{Translation and Use in HoTT}

\input{types.tex}

\chapter{A Formalization in the Lean Theorem Prover} \label{chapter:lean}
\chaptermark{Formalization in Lean}

\input{lean.tex}

\chapter{Conclusion and Future Work} \label{chapter:outro}

\input{outro.tex}

\bibliographystyle{alpha}
\bibliography{references}

\appendix

%\chapter{Category theory}

%\chapter{Classical homotopy theory}

%\chapter{Code excerpts}

\end{document}
